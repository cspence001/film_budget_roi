define("modules/clean/react/modal_dig",["require","exports","tslib","react","react-dom","purify","modules/core/i18n","classnames","modules/clean/ux_analytics_utils","dig-components/buttons","dig-components/progress_indicators","dig-components/modal","dig-components/typography","modules/clean/react/css"],(function(t,e,a,n,o,s,r,i,l,d,u,p,c,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n=a.__importDefault(n),o=a.__importStar(o),s=a.__importStar(s),i=a.__importDefault(i);var f=p.Modal.Header,h=p.Modal.Footer,v=p.Modal.Body;e.MODAL_ROOT_ID="react-modal-root",e.MODAL_ROOT_TESTID=e.MODAL_ROOT_ID;var y=function(t){void 0===t&&(t=!0);var e=document.getElementById("react-modal-root-wrapper");return!e&&t&&((e=document.createElement("div")).id="react-modal-root-wrapper",document.body.insertBefore(e,document.body.firstChild||null),p.Modal.setAppElement("#react-modal-root-wrapper")),e},b=function(t){var e={secondary:"outline",tertiary:"transparent",styleless:"transparent",primary:"primary",opacity:"opacity"};return e[t]?e[t]:"primary"},_=(function(t){function s(e){var a=t.call(this,e)||this;return a.state={open:!0},a.close=function(){return a.setState({open:!1}),s.close(a.elementToFocusOnClose)},a.modal=n.default.createRef(),a.modalBox=n.default.createRef(),a}return a.__extends(s,t),s.close=function(t){var a,n=y();if(n){o.unmountComponentAtNode(n),l.dispatchModalClosed();var s=document.getElementById(e.MODAL_ROOT_ID);s&&(null===(a=s.parentNode)||void 0===a||a.removeChild(s)),"function"==typeof(null==t?void 0:t.focus)&&t.focus()}},s.unhide=function(){var t=y();if(t)return t.style.display=""},s.hide=function(){var t=y();if(t)return t.style.display="none"},s.showInstance=function(t,e,a){void 0===e&&(e=!0);var n=y();return e&&o.unmountComponentAtNode(n),o.render(t,n,a)},s.prototype.getTrackingId=function(t){var e=this.props;return void 0!==e.trackingIdPrefix?e.trackingIdPrefix+"-"+t:null},s.prototype.invokeCBThenCloseModal=function(t,e,a){"function"==typeof t&&t.call(this,e);var n=e.defaultPrevented;if(e.isDefaultPrevented&&(n=e.isDefaultPrevented()),!n)return this.props.autoClose||a?this.close():void 0},s.prototype.dismissModal=function(t){var e=this.props,a=e.onDismiss,n=e.onDismissCompleted;this.invokeCBThenCloseModal(a,t,!0),n&&n.call(this,t)},s.prototype.onCancelActionClicked=function(t){this.dismissModal(t)},s.prototype.onAcceptActionClicked=function(t){var e=this.props.onAccept;this.invokeCBThenCloseModal(e,t,!0)},s.prototype.addTrackingIdForDismiss=function(){var t=document.getElementById(e.MODAL_ROOT_ID);if(t){var a=t.querySelector('[aria-label="'+this.getCloseButtonText()+'"]');if(a){a.classList.add("db-modal-x");var n=this.getTrackingId("dismiss")||"";a.setAttribute("data-trackingid",n)}}},s.prototype.autofocus=function(){var t=document.getElementById(e.MODAL_ROOT_ID);if(t){var a=t.querySelector("input:not(:disabled),button:not(:disabled)");a&&a.focus()}},s.prototype.componentDidMount=function(){var t=this;l.dispatchModalOpened(),setTimeout((function(){t.addTrackingIdForDismiss(),t.autofocus()}),500)},s.prototype.componentWillUnmount=function(){l.dispatchModalClosed()},s.prototype.getCloseButtonText=function(){return r.intl.formatMessage({id:"u/p3Pl",defaultMessage:"Close"})},s.prototype.render=function(){var t=this.props,o={"db-modal-wrapper":!0,"uxa-modal":!0,"clean-react-modal":!0,"db-modal--clean-style":"clean"===t.style,"db-modal--simple-style":"simple"===t.style,"db-modal--lightbox-style":"lightbox"===t.style,"db-modal--bare-style":"bare"===t.style,"db-modal--default-maestro-style":"default-maestro"===t.style,"db-modal--cancel-style":"cancel"===t.style,"db-modal--cancel-confirmation-style":"cancel-confirmation"===t.style};t.className&&(o[t.className]=!0);var s=i.default(o),m=l.getModalId({id:t.id,className:t.className}),y={};t.width&&(y={width:t.width+"px"});var _=this.state.open,g=this.onCancelActionClicked.bind(this),C=this.onAcceptActionClicked.bind(this),x={};t.showX&&(x.withCloseButton=this.getCloseButtonText());var k="lightbox"===t.style?"":t.headerId;return n.default.createElement("div",{className:s,id:m},n.default.createElement("div",{ref:this.modal,className:"db-modal db-modal__dig"},n.default.createElement("div",{ref:this.modalBox,className:"db-modal-box"},n.default.createElement(p.Modal,a.__assign({open:_,className:"db-modal-"+t.style},x,{onRequestClose:g,onAfterOpen:function(){t.onShow&&t.onShow()},"aria-labelledby":k,style:y,overlayClassName:"db-modal-overlay",role:"dialog",ariaHideApp:!1,id:e.MODAL_ROOT_ID,"data-testid":e.MODAL_ROOT_TESTID}),t.title&&n.default.createElement(f,{hasBottomSpacing:"title-standard",className:"db-modal-title",id:"db-modal-title"},n.default.createElement(c.Title,null,n.default.createElement("span",{className:"db-modal-title-text"},t.title))),n.default.createElement(v,{ref:this.modalContainer,className:"db-modal-content",hasVerticalSpacing:!1},t.children),n.default.createElement(h,{className:"db-modal-buttons"},!!t.buttonComponent&&t.buttonComponent,!t.buttonComponent&&n.default.createElement(n.default.Fragment,null,t.helpLink&&n.default.createElement(d.Button,{variant:"transparent",className:"dbmodal-extra-link-button"},t.helpLink),t.altAction&&n.default.createElement(d.Button,{variant:"transparent",className:"db-modal__alt-action"},t.altAction),t.dismissButtonText&&n.default.createElement(d.Button,{className:"dbmodal-button dbmodal-button__cancel",key:"tertiary-dismiss","data-trackingid":this.getTrackingId("dismiss"),variant:b(t.dismissButtonImportance||"opacity"),disabled:t.dismissButtonDisabled,onClick:g},t.dismissButtonText),t.submitting&&n.default.createElement(u.Spinner,{size:"small",className:"dbmodal-loading",key:"loading","aria-valuetext":r.intl.formatMessage({id:"jybGUg",defaultMessage:"Loading"})}),t.acceptButtonText&&n.default.createElement(d.Button,{className:"dbmodal-button dbmodal-button__accept",key:"primary","data-trackingid":this.getTrackingId("accept"),variant:b(t.acceptButtonImportance||"primary"),disabled:t.acceptButtonDisabled,onClick:C},t.acceptButtonText)))))))},s.displayName="Modal",s.defaultProps={acceptButtonText:r.intl.formatMessage({id:"nOO9Qi",defaultMessage:"OK"}),acceptButtonImportance:"primary",dismissButtonImportance:"opacity",dismissButtonText:null,buttonComponent:null,headerId:"db-modal-title",onAccept:function(){},onDismiss:function(){},onShow:function(){},autoClose:!0,clickOutToClose:!0,style:"default",showX:!0,escapeOrBackspaceToClose:!0,acceptButtonDisabled:!1,dismissButtonDisabled:!1,autoFocusPrimaryInput:!0,shouldLoadCss:!0,stopKeyDownEventPropagation:!0},s})(n.default.Component),g={show:function(t){var e={acceptButtonText:t.confirm_text,trackingIdPrefix:t.trackingIdPrefix,onAccept:t.confirm_callback,dismissButtonText:t.cancel_text,onDismiss:t.cancel_callback,onDismissCompleted:t.cancel_completed_callback,title:t.title_text,width:t.width,className:"simple-modal",autoClose:t.autoclose,style:t.style,onShow:t.on_show},o=t.body_react?n.default.createElement("div",{className:"simple-modal-content"},t.body_react):n.default.createElement("div",{className:"simple-modal-content",dangerouslySetInnerHTML:{__html:s.sanitize(t.body_html)}}),r=n.default.createElement(_,a.__assign({},e),o);return _.showInstance(r)}};e.SimpleModal=g;var C=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.render=function(){var t,e=this.props,o=e.importance||"primary",s=o,r=b(o);return t="button-as-link skip-link"===e.className?e.className:i.default(e.className,"dbmodal-button","button-"+s,"dbmodal-button__"+s),n.default.createElement(d.Button,a.__assign({variant:r},e,{className:t}),e.children)},e.displayName="ModalButton",e.defaultProps={},e})(n.default.Component);e.ModalButton=C;var x=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.render=function(){var t=this.props,e=i.default(t.className,"db-modal-buttons");return n.default.createElement("div",a.__assign({},t,{className:e}))},e.displayName="ModalButtons",e})(n.default.Component);e.ModalButtons=x,e.ModalWithCSS=m.requireCssWithComponent(_,["/static/css/dig-components/index.web-vflms-gJj.css"]),e.Modal=e.ModalWithCSS,e.ReactModal=e.ModalWithCSS})),define("modules/clean/react/button_dig",["require","exports","tslib","classnames","react","dig-components/buttons","modules/core/browser"],(function(t,e,a,n,o,s,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n=a.__importDefault(n),o=a.__importDefault(o),r=a.__importStar(r);var i={secondary:"outline",tertiary:"transparent",styleless:"transparent",primary:"primary"},l=function(t){var e={};e["button-"+t.variant]=!(!t.variant||"standard"===t.variant);var o,s=t.importance||"primary";o=i[s]?i[s]:"primary",t.importance&&"styleless"!==t.importance&&(e["button-"+t.importance]=!0,e[t.importance]=!0),t.className&&(e[t.className]=!0);t.importance,t.variant;var r=a.__rest(t,["importance","variant"]);return r.className=n.default(e),{digVariant:o,domAttributes:r}},d=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.render=function(){var t=this.props,e=l(t),n=e.digVariant,r=e.domAttributes;return o.default.createElement(s.Button,a.__assign({},r,{variant:n}),t.children)},e.defaultProps={importance:"primary"},e})(o.default.Component);e.Button=d;var u=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.render=function(){var t=this.props,e=l(t).domAttributes;delete e.disabled;return o.default.createElement(s.Button,a.__assign({onClick:function(){t.href&&r.open_tab(t.href)}},e,{variant:"transparent"}),t.children)},e.defaultProps={importance:"primary"},e})(o.default.Component);e.LinkButton=u,e.button=d,e.link_button=u})),define("modules/clean/react/input_dig",["require","exports","tslib","classnames","dig-components/text_fields","dig-components/typography","create-react-class","react","react-dom","modules/clean/keycode","modules/clean/react/form_error_mixin","modules/clean/react/sprite","modules/core/cancelable_promise","modules/core/i18n"],(function(t,e,a,n,o,s,r,i,l,d,u,p,c,m){"use strict";function f(t,e){void 0===e&&(e=!1);var a=function(e){if(t>=e)return"password-input-dot-selected"},n="password-input-meter";e&&(n="password-input-meter-standalone");var o=i.default.createElement("div",{className:n,ref:"meter"},i.default.createElement("div",{className:"password-input-dot "+a(4)}),i.default.createElement("div",{className:"password-input-dot "+a(3)}),i.default.createElement("div",{className:"password-input-dot "+a(2)}),i.default.createElement("div",{className:"password-input-dot "+a(1)}));return e?i.default.createElement("span",{className:"standalone-password-meter-container"},o):o}Object.defineProperty(e,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importDefault(r),i=a.__importDefault(i),l=a.__importStar(l),u=a.__importDefault(u),e.password_strength_meter=f;var h=function(e,h){return r.default({displayName:e+"."+h,mixins:[u.default],getDefaultProps:function(){return{errorWrapperClassName:"text-input-error-wrapper",expandedWidthOffset:90,expandable:!1,animationCurve:"easeOutSine",animationDuration:300,compatiblePlaceholder:!1}},getInitialState:function(){return{inputWidth:0,expanded:!1,value:this.props.defaultValue}},zxcvbnPromise:void 0,UNSAFE_componentWillMount:function(){var e=this;this.props.measureStrength&&(this.zxcvbnPromise=c.makeCancelable(new Promise((function(e,a){t(["zxcvbn"],e,a)})).then(a.__importStar)),this.zxcvbnPromise.then((function(t){var a=t.default;e.setState({zxcvbn:a})})))},componentWillUnmount:function(){this.zxcvbnPromise&&this.zxcvbnPromise.cancel()},componentDidMount:function(){this._renderFinished();var t=this.inputComponent.current.offsetWidth;return this.setState({inputWidth:t})},componentDidUpdate:function(){return this._renderFinished()},inputComponent:i.default.createRef(),render:function(){var t={"text-input-input":!0,autofocus:this.props.autofocus,"password-input":"password"===h},r={"text-input":!0,"text-wip-migration-wip":!0,"text-input-expandable":this.props.expandable,"text-input-inline":this.props.inline,"textarea-input":"textarea"===e};(r[this.props.variant||"standard"]=!0,this.props.className)&&this.props.className.split(/\s/).forEach((function(t){return r[t]=!0}));var l=this.renderErrorIfEnabled(),d=void 0;((null!=this.props.error?this.props.error.message_text:void 0)||null!=(null!=this.props.error?this.props.error.message_html:void 0))&&(d=this.state.errorWrapperIdName);var u=o.TextInput;"textarea"===e&&(u=o.TextArea);var c={id:this.props.id,name:this.props.name,"aria-describedby":d,"aria-label":d,className:n.default(t),type:h,value:this.props.value||(null!=this.props.valueLink?this.props.valueLink.value:void 0)||this.state.value,onChange:this.onChangeInternal,onFocus:this.onFocusInternal,onBlur:this.onBlurInternal,onKeyDown:this.onKeyDownInternal,autoFocus:this.props.autofocus,ref:this.inputComponent,placeholder:this.props.placeholder||""};for(var f in this.props)void 0===c[f]&&"autofocus"!==f&&(c[f]=this.props[f]);var v=i.default.createElement(u,a.__assign({},c));return i.default.createElement("div",{className:n.default(r)},!this.props["error-after"]&&l,i.default.createElement("div",{className:"text-input-wrapper"},this._renderPasswordStrengthBar(),v,this.props.expandable&&i.default.createElement("a",{href:"#",onClick:this.onCloseClick,ref:"closeButton",className:"close-button u-mar-left-xs"},i.default.createElement(p.Sprite,{group:"web",name:"xclose",alt:m.intl.formatMessage({id:"u/p3Pl",defaultMessage:"Close"})})),this.props.label&&!(this.props.value||(null!=this.props.valueLink?this.props.valueLink.value:void 0)||this.state.value)&&i.default.createElement(s.Text,{size:"standard",tagName:"label",htmlFor:this.props.id},this.props.label)),this.props["error-after"]&&l)},getValue:function(){return this.inputComponent.current.value},setValue:function(t){return this.inputComponent.current.value=t,this.setState({value:t})},resizeComponent:function(){var t=this.inputComponent.current;return t.style.height="1px",t.style.height=t.scrollHeight+"px"},_renderPasswordStrengthBar:function(){return this.props.measureStrength?f(this.state.score):null},_renderFinished:function(){return this.props.autoresize&&this.resizeComponent(),"function"==typeof this.props.afterRender?this.props.afterRender():void 0},onCloseClick:function(t){if(null!=t&&t.preventDefault(),this.props.expandable){var e=l.findDOMNode(this.refs.closeButton),a=this.inputComponent.current;return e.style.opacity="0",a.style.width=this.state.inputWidth+"px","function"==typeof this.props.onCloseClick&&this.props.onCloseClick(t),this.setState({expanded:!1})}"function"==typeof this.props.onCloseClick&&this.props.onCloseClick(t)},onChangeInternal:function(t){if("function"==typeof this.props.onChange&&this.props.onChange(t),null!=this.props.value||(this.props.valueLink?this.props.valueLink.requestChange(t.target.value):this.setState({value:t.target.value})),this.props.measureStrength){var e=void 0;return e=this.state.zxcvbn&&t.target.value?Math.max(1,this.state.zxcvbn(t.target.value).score):0,this.setState({score:e})}},onFocusInternal:function(t){if("function"==typeof this.props.onFocus&&this.props.onFocus(t),!1!==this.props.expandable){var e=t.target,a=l.findDOMNode(this.refs.closeButton),n=this.state.inputWidth;0===n&&(n=this.inputComponent.current.offsetWidth,this.setState({inputWidth:n}));var o=n+this.props.expandedWidthOffset,s=o-parseInt(e.style.paddingRight)+a.offsetWidth/2;return a.style.left=s+"px",e.style.width=o+"px",e.style.opacity="1",this.setState({expanded:!0})}},onBlurInternal:function(t){var e=t.target.value;return!0===this.props.closeOnBlur&&0===e.length&&this.onCloseClick(),"function"==typeof this.props.onBlur?this.props.onBlur(t):void 0},onKeyDownInternal:function(t){if("function"==typeof this.props.onKeyDown&&this.props.onKeyDown(t),null!=this.state.expanded!=!1)switch(t.keyCode){case d.KeyCode.ESC:return t.target.blur(),this.onCloseClick()}}})};e.password=h("input","password"),e.text=h("input","text"),e.textarea=h("textarea","text")}));
//# sourceMappingURL=pkg-legacy-dig-migration.min.js-vflEeOv6z.map